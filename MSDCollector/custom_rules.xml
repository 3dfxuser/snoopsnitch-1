<?xml version="1.0" encoding="UTF-8"?>
<project name="custom_rules" default="debug">

  <target name="-pre-build">

    <exec executable="${ndk.dir}/ndk-build" failonerror="true"/>

    <copy file="${sdk.dir}/extras/android/support/v4/android-support-v4.jar" toDir="${jar.libs.absolute.dir}" /> 
    <copy file="../contrib/prebuild/libdiag_import.so"   todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuild/libasn1c.so"         todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuild/libcompat.so"        todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuild/libosmo-asn1-rrc.so" todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuild/libosmocore.so"      todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuild/libosmogsm.so"       todir="${jar.libs.dir}/armeabi" />

  </target>

  <target name="clean" depends="android_rules.clean">
    <exec executable="${ndk.dir}/ndk-build" failonerror="true">
      <arg value="clean"/>
    </exec>
  </target>
</project>
