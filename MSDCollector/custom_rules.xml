<?xml version="1.0" encoding="UTF-8"?>
<project name="custom_rules" default="debug">

  <target name="-pre-build">

    <exec executable="${ndk.dir}/ndk-build" failonerror="true"/>

    <copy file="${sdk.dir}/extras/android/support/v4/android-support-v4.jar" toDir="${jar.libs.absolute.dir}" /> 
    <copy file="../contrib/prebuilt/libdiag_import.so"   todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libasn1c.so"         todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libcompat.so"        todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libosmo-asn1-rrc.so" todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libosmocore.so"      todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libosmogsm.so"       todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libopenssl.so"       todir="${jar.libs.dir}/armeabi" />
    <copy file="../contrib/prebuilt/libsmime_crt.so"       todir="${jar.libs.dir}/armeabi" />

  </target>

  <target name="clean" depends="android_rules.clean">
    <exec executable="${ndk.dir}/ndk-build" failonerror="true">
      <arg value="clean"/>
    </exec>
  </target>
</project>
